// Generated by CoffeeScript 1.9.2
(function() {
  'use strict';
  E.fistH2H$pre = function(field, val) {
    return val.replace(/[<>]/g, '');
  };

  E.fistH2H$trim = function(field, val) {
    return (String(val)).trim();
  };

  E.fistH2H$lower = function(field, val) {
    return (String(val)).toLowerCase();
  };

  E.fistH2H$upper = function(field, val) {
    return (String(val)).toUpperCase();
  };

  E.fistH2H$zero = function(field, val) {
    return val != null ? val : 0;
  };

  E.fistH2H$null = function(field, val) {
    return val != null ? val : null;
  };

  E.fistH2H$empty = function(field, val) {
    return val != null ? val : '';
  };

  E.fistH2H$digits = function(field, val) {
    return val.replace(/[^0-9]/g, '');
  };

  E.fistH2H$chars = function(field, val) {
    return val.replace(/[^a-z]/ig, '');
  };

  E.fistH2D$zero = function(field, val) {
    return val != null ? val : 0;
  };

  E.fistH2D$upper = function(field, val) {
    return (String(val)).toUpperCase();
  };

  E.fistD2H$sliceIt = function(field, val) {
    var expr;
    expr = field.d2h_expr;
    return (String(val)).slice(expr[0], expr[1]);
  };

  E.fistVAL$test = function(field, val) {
    var re;
    re = field.validate_expr;
    if (typeof re === 'string') {
      re = new RegExp(re);
    }
    return re.test(val);
  };

  E.fistVAL$email = function(field, val) {
    var few, most, re, some;
    most = '[A-Z0-9._+%-]';
    some = '[A-Z0-9.-]';
    few = '[A-Z]';
    re = new RegExp("^" + most + "+@" + some + "+[.]" + few + "{2,4}$", 'i');
    if (val.match(re)) {
      return true;
    } else {
      return false;
    }
  };

}).call(this);
