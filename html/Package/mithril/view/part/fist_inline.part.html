<epic:foreach table="Tag/Control">
<epic:if name="req" set="&Tag/Form/show_req;">
	<epic:if name="req" set="&Control/req;"/>
</epic:if>

<epic:if val="&Control/type;" eq="textarea">
	<textarea name="&Control/name;" placeholder="&Control/label;" required="&Tag/If/req#bool;" title="&Tag/If/req#.Required;">&Control/value#esc;</textarea>
</epic:if>

<epic:if val="&Control/type#lc;" eq="text">
	<input type="&Control/type#lc;" name="&Control/name;" defaultValue="&Control/value;" size="&Control/width;" placeholder="&Control/label;" required="&Tag/If/req#bool;" title="&Tag/If/req#.Cannot.be.blank;">
</epic:if>

<epic:if val="&Control/type#lc;" eq="password">
	<input type="&Control/type#lc;" name="&Control/name;" defaultValue="&Control/value;" size="&Control/width;" placeholder="&Control/label;" required="&Tag/If/req#bool;">
</epic:if>

<epic:if val="&Control/type;" eq="radio">
	<label for="&Control/name;">&Control/label;</label>
<epic:foreach table="Control/Choice">
	<label for="&Control/id;-&Choice/option;">
	<input type="radio" name="&Control/name;" id="&Control/id;-&Choice/option;" value="&Choice/value#esc;" selected="&Choice/selected#bool;">
	&Choice/option;</label>
</epic:foreach>
</epic:if>

<!-- REACT: HAD TO DO THE IF TWICE, SO EACH HAS ONE ROOT - OTHERWISE THE SELECT/OPTION TAGS DISAPEAR AND YOU GET <UNDEFINED '0[Object Object][Object Object]null' -->
<epic:if val="&Control/type;" eq="pulldown">
	<label for="&Control/name;">&Control/label;</label>
<!-- UPDATE: MADE EPIC RETURN FUNC RETURN ARRAY NOT JOIN '+'
</epic:if>
<epic:if val="&Control/type;" eq="pulldown">
-->
	<select name="&Control/name;" size="&Control/size#.%;">
	<epic:foreach table="Control/Choice">
		<option value="&Choice/value#esc;" selected="&Choice/selected#bool;">&Choice/option;</option>
	</epic:foreach>
	</select>
</epic:if>

<epic:if set="&Control/issue;">
<span class="help-inline field-error">&Control/issue;</span>
</epic:if>

</epic:foreach>
