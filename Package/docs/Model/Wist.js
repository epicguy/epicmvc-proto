// Generated by CoffeeScript 1.4.0
var Wist,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Wist = (function(_super) {

  __extends(Wist, _super);

  function Wist(view_nm, opts) {
    Wist.__super__.constructor.call(this, view_nm, opts);
    this.rest = window.rest_v1;
  }

  Wist.prototype.loadTable = function(tbl_nm) {
    var f, map, nm, rec, resource, sub_resource, _ref;
    f = "Wist:loadTable:" + tbl_nm;
    _ref = tbl_nm.split(':'), resource = _ref[0], sub_resource = _ref[1];
    map = this.rest.getMap(resource, sub_resource);
    _log2(f, map);
    return this.Table[tbl_nm] = (function() {
      var _results;
      _results = [];
      for (nm in map) {
        rec = map[nm];
        _results.push(rec);
      }
      return _results;
    })();
  };

  return Wist;

})(E.ModelJS);

E.Model.Wist = Wist;
