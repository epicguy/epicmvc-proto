// Generated by CoffeeScript 1.4.0
(function() {
  var dataAction;

  dataAction = function(type, data_action, data_params, val) {
    var action_specs, f, one_spec, spec_action, spec_type, _base, _i, _len, _ref, _results;
    f = 'Base:E/dataAction:on[data-action]' + type;
    if (typeof (_base = E.option).activity === "function") {
      _base.activity(type);
    }
    action_specs = data_action.split(',');
    data_params = JSON.parse(data_params || "{}");
    data_params.val = val;
    _results = [];
    for (_i = 0, _len = action_specs.length; _i < _len; _i++) {
      one_spec = action_specs[_i];
      _ref = one_spec.split(':'), spec_type = _ref[0], spec_action = _ref[1];
      if (!spec_action) {
        spec_action = spec_type;
        spec_type = 'click';
      }
      if (spec_type === type) {
        (function(spec_action) {
          return setTimeout((function() {
            return E.click(spec_action, data_params);
          }), 5);
        })(spec_action);
      }
      break;
    }
    return _results;
  };

  E.Extra.dataAction$Base = dataAction;

  /*
  $(document).on("click change dblclick", "[data-action]", function(event_obj) {
  //console.log( 'event', event_obj, this, $(this).val());
  event_obj.preventDefault(); // Added to keep LOGIN FORM from posting, causing fresh instance to start up
  handle_data_action( event_obj.type, $(this).attr( 'data-action'), $(this).attr( 'data-params'), $(this).val());
  return false; // TODO CONSIDER MAKING SURE WE WANTED TO STOP, OR DO MORE TO ENSURE WE STOP DOING MORE THAN THIS
  });
  */


}).call(this);
